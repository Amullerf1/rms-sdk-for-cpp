<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>RMS SDK for C++: rmscore::modernapi::UserPolicy Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RMS SDK for C++
   &#160;<span id="projectnumber">0.2.1</span>
   </div>
   <div id="projectbrief">A client library for using Microsoft RMS from Linux.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>rmscore</b></li><li class="navelem"><b>modernapi</b></li><li class="navelem"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html">UserPolicy</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classrmscore_1_1modernapi_1_1UserPolicy-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rmscore::modernapi::UserPolicy Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents the policy associated with protected content.  
 <a href="classrmscore_1_1modernapi_1_1UserPolicy.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="UserPolicy_8h_source.html">UserPolicy.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa290d07f3a3707b3b30a5254c8fcf504"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#aa290d07f3a3707b3b30a5254c8fcf504">AccessCheck</a> (const std::string &amp;right) const </td></tr>
<tr class="memdesc:aa290d07f3a3707b3b30a5254c8fcf504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a value that indicates whether the current user has the specified right.  <a href="#aa290d07f3a3707b3b30a5254c8fcf504">More...</a><br /></td></tr>
<tr class="separator:aa290d07f3a3707b3b30a5254c8fcf504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bcbfb8b980f684851351578092ba826"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bcbfb8b980f684851351578092ba826"></a>
UserPolicyType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a9bcbfb8b980f684851351578092ba826">Type</a> ()</td></tr>
<tr class="memdesc:a9bcbfb8b980f684851351578092ba826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the policy type; template based or custom. <br /></td></tr>
<tr class="separator:a9bcbfb8b980f684851351578092ba826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608c00a93ad2f3a7736f2b9976a30ac3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a608c00a93ad2f3a7736f2b9976a30ac3"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a608c00a93ad2f3a7736f2b9976a30ac3">Name</a> ()</td></tr>
<tr class="memdesc:a608c00a93ad2f3a7736f2b9976a30ac3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of the policy. <br /></td></tr>
<tr class="separator:a608c00a93ad2f3a7736f2b9976a30ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98698737bc6f9a9a083e98ca473d71ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98698737bc6f9a9a083e98ca473d71ba"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a98698737bc6f9a9a083e98ca473d71ba">Description</a> ()</td></tr>
<tr class="memdesc:a98698737bc6f9a9a083e98ca473d71ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the policy description. <br /></td></tr>
<tr class="separator:a98698737bc6f9a9a083e98ca473d71ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55c11bf7eac5505a76e4782554f866b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad55c11bf7eac5505a76e4782554f866b"></a>
std::shared_ptr&lt; <a class="el" href="classrmscore_1_1modernapi_1_1TemplateDescriptor.html">modernapi::TemplateDescriptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#ad55c11bf7eac5505a76e4782554f866b">TemplateDescriptor</a> ()</td></tr>
<tr class="memdesc:ad55c11bf7eac5505a76e4782554f866b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the template used to publish the content. <br /></td></tr>
<tr class="separator:ad55c11bf7eac5505a76e4782554f866b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8769f8bf7d10ab6b3b92b8b94c9d965b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8769f8bf7d10ab6b3b92b8b94c9d965b"></a>
std::shared_ptr&lt; <a class="el" href="classrmscore_1_1modernapi_1_1PolicyDescriptor.html">modernapi::PolicyDescriptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a8769f8bf7d10ab6b3b92b8b94c9d965b">PolicyDescriptor</a> ()</td></tr>
<tr class="memdesc:a8769f8bf7d10ab6b3b92b8b94c9d965b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the policy descriptor. <br /></td></tr>
<tr class="separator:a8769f8bf7d10ab6b3b92b8b94c9d965b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51717cc9a734ffa88e4e79b93e2e5b9c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51717cc9a734ffa88e4e79b93e2e5b9c"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a51717cc9a734ffa88e4e79b93e2e5b9c">Owner</a> ()</td></tr>
<tr class="memdesc:a51717cc9a734ffa88e4e79b93e2e5b9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the email address of the content owner. <br /></td></tr>
<tr class="separator:a51717cc9a734ffa88e4e79b93e2e5b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05af5ee33005c9b2c3b55bbd42d8daa7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05af5ee33005c9b2c3b55bbd42d8daa7"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a05af5ee33005c9b2c3b55bbd42d8daa7">IssuedTo</a> ()</td></tr>
<tr class="memdesc:a05af5ee33005c9b2c3b55bbd42d8daa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the user associated with the protection policy. <br /></td></tr>
<tr class="separator:a05af5ee33005c9b2c3b55bbd42d8daa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8d323e4aa2fa00903d66cfc1c1fc9a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef8d323e4aa2fa00903d66cfc1c1fc9a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#aef8d323e4aa2fa00903d66cfc1c1fc9a">IsIssuedToOwner</a> ()</td></tr>
<tr class="memdesc:aef8d323e4aa2fa00903d66cfc1c1fc9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag indicating if the current user the is the content owner. <br /></td></tr>
<tr class="separator:aef8d323e4aa2fa00903d66cfc1c1fc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4991b1e336cd5408c698b60a32e934"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b4991b1e336cd5408c698b60a32e934"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a0b4991b1e336cd5408c698b60a32e934">ContentId</a> ()</td></tr>
<tr class="memdesc:a0b4991b1e336cd5408c698b60a32e934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the unique content ID associated with the protected document. <br /></td></tr>
<tr class="separator:a0b4991b1e336cd5408c698b60a32e934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2692c9fe1392ea37c48f49983c799f5f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2692c9fe1392ea37c48f49983c799f5f"></a>
const AppDataHashMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a2692c9fe1392ea37c48f49983c799f5f">EncryptedAppData</a> ()</td></tr>
<tr class="memdesc:a2692c9fe1392ea37c48f49983c799f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the encrypted app specific data. <br /></td></tr>
<tr class="separator:a2692c9fe1392ea37c48f49983c799f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741bf5a6873835a53ccd5b8cd188f957"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a741bf5a6873835a53ccd5b8cd188f957"></a>
const AppDataHashMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a741bf5a6873835a53ccd5b8cd188f957">SignedAppData</a> ()</td></tr>
<tr class="memdesc:a741bf5a6873835a53ccd5b8cd188f957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the signed app specific data. <br /></td></tr>
<tr class="separator:a741bf5a6873835a53ccd5b8cd188f957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae369c2074067c81be4d9f180ba48b6c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae369c2074067c81be4d9f180ba48b6c5"></a>
std::chrono::time_point&lt; std::chrono::system_clock &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#ae369c2074067c81be4d9f180ba48b6c5">ContentValidUntil</a> ()</td></tr>
<tr class="memdesc:ae369c2074067c81be4d9f180ba48b6c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The date the content is valid until. <br /></td></tr>
<tr class="separator:ae369c2074067c81be4d9f180ba48b6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fe1017d60f34e76e05e25792403061"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9fe1017d60f34e76e05e25792403061"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#aa9fe1017d60f34e76e05e25792403061">DoesUseDeprecatedAlgorithms</a> ()</td></tr>
<tr class="memdesc:aa9fe1017d60f34e76e05e25792403061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the deprecated algorithms flag. <br /></td></tr>
<tr class="separator:aa9fe1017d60f34e76e05e25792403061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8c199916440bca620d14a9fabcb22d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a8c199916440bca620d14a9fabcb22d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a5a8c199916440bca620d14a9fabcb22d">IsAuditedExtractAllowed</a> ()</td></tr>
<tr class="memdesc:a5a8c199916440bca620d14a9fabcb22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets property for allowance of audited extraction. <br /></td></tr>
<tr class="separator:a5a8c199916440bca620d14a9fabcb22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7235ac6dd32bd5beea04a2acc73894"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba7235ac6dd32bd5beea04a2acc73894"></a>
const std::vector&lt; unsigned char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#aba7235ac6dd32bd5beea04a2acc73894">SerializedPolicy</a> ()</td></tr>
<tr class="memdesc:aba7235ac6dd32bd5beea04a2acc73894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the serialized policy. <br /></td></tr>
<tr class="separator:aba7235ac6dd32bd5beea04a2acc73894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd885554039cf8b869ac9f83849039f0"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; core::ProtectionPolicy &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#abd885554039cf8b869ac9f83849039f0">GetImpl</a> ()</td></tr>
<tr class="memdesc:abd885554039cf8b869ac9f83849039f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to ProtectionPolicy. BRP072215 - meaning?  <a href="#abd885554039cf8b869ac9f83849039f0">More...</a><br /></td></tr>
<tr class="separator:abd885554039cf8b869ac9f83849039f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad62c5f6765a96a3ca77ab414334685ee"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="structrmscore_1_1modernapi_1_1GetUserPolicyResult.html">GetUserPolicyResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#ad62c5f6765a96a3ca77ab414334685ee">Acquire</a> (const std::vector&lt; unsigned char &gt; &amp;serializedPolicy, const std::string &amp;userId, <a class="el" href="classrmscore_1_1modernapi_1_1IAuthenticationCallback.html">IAuthenticationCallback</a> &amp;authenticationCallback, <a class="el" href="classrmscore_1_1modernapi_1_1IConsentCallback.html">IConsentCallback</a> &amp;consentCallback, PolicyAcquisitionOptions options, ResponseCacheFlags cacheMask)</td></tr>
<tr class="memdesc:ad62c5f6765a96a3ca77ab414334685ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire a policy.  <a href="#ad62c5f6765a96a3ca77ab414334685ee">More...</a><br /></td></tr>
<tr class="separator:ad62c5f6765a96a3ca77ab414334685ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999edb1c6a2aef8506e01e0aa666828b"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html">UserPolicy</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#a999edb1c6a2aef8506e01e0aa666828b">CreateFromTemplateDescriptor</a> (const <a class="el" href="classrmscore_1_1modernapi_1_1TemplateDescriptor.html">TemplateDescriptor</a> &amp;templateDescriptor, const std::string &amp;userId, <a class="el" href="classrmscore_1_1modernapi_1_1IAuthenticationCallback.html">IAuthenticationCallback</a> &amp;authenticationCallback, UserPolicyCreationOptions options, const AppDataHashMap &amp;signedAppData)</td></tr>
<tr class="memdesc:a999edb1c6a2aef8506e01e0aa666828b"><td class="mdescLeft">&#160;</td><td class="mdescRight">For publishing using templates.  <a href="#a999edb1c6a2aef8506e01e0aa666828b">More...</a><br /></td></tr>
<tr class="separator:a999edb1c6a2aef8506e01e0aa666828b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52b39c785a318772640f287efaa1b11"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html">UserPolicy</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html#ad52b39c785a318772640f287efaa1b11">Create</a> (<a class="el" href="classrmscore_1_1modernapi_1_1PolicyDescriptor.html">PolicyDescriptor</a> &amp;policyDescriptor, const std::string &amp;userId, <a class="el" href="classrmscore_1_1modernapi_1_1IAuthenticationCallback.html">IAuthenticationCallback</a> &amp;authenticationCallback, UserPolicyCreationOptions options)</td></tr>
<tr class="memdesc:ad52b39c785a318772640f287efaa1b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a custom protection policy.  <a href="#ad52b39c785a318772640f287efaa1b11">More...</a><br /></td></tr>
<tr class="separator:ad52b39c785a318772640f287efaa1b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents the policy associated with protected content. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa290d07f3a3707b3b30a5254c8fcf504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rmscore::modernapi::UserPolicy::AccessCheck </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>right</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a value that indicates whether the current user has the specified right. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">right</td><td>The right to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the current user has the right; otherwise false. Note - When called on behalf of the content owner, returns True for any right that is specified. </dd></dl>

</div>
</div>
<a class="anchor" id="ad62c5f6765a96a3ca77ab414334685ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; <a class="el" href="structrmscore_1_1modernapi_1_1GetUserPolicyResult.html">GetUserPolicyResult</a> &gt; rmscore::modernapi::UserPolicy::Acquire </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned char &gt; &amp;&#160;</td>
          <td class="paramname"><em>serializedPolicy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrmscore_1_1modernapi_1_1IAuthenticationCallback.html">IAuthenticationCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>authenticationCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrmscore_1_1modernapi_1_1IConsentCallback.html">IConsentCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>consentCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PolicyAcquisitionOptions&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ResponseCacheFlags&#160;</td>
          <td class="paramname"><em>cacheMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire a policy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serializedPolicy</td><td>The PL to be consumed. </td></tr>
    <tr><td class="paramname">userId</td><td>The email address of the user that is trying to consume the protected content. This email address will be used to determine which policy object to use from the offline cache. If a policy object for this user is not found in the offline cache then this API will go online (if allowed) to get the policy object. If null is passed, the first policy object found in the offline cache will be used. And again if there is no policy object found for this content in the offline cache, this API will go online to get the policy object. This parameter is also used as a hint for userId for user authentication, i.e., it will be passed to the IAuthenticationCallback.GetTokenAsync() in the <a class="el" href="classrmscore_1_1modernapi_1_1AuthenticationParameters.html" title="Coordinates for OAuth authentication with Azure AD or AD FS. ">AuthenticationParameters</a> structure. </td></tr>
    <tr><td class="paramname">authenticationCallback</td><td>Authentication callback to be used for authentication process. </td></tr>
    <tr><td class="paramname">consentCallback</td><td>Consent callback for user consent process. </td></tr>
    <tr><td class="paramname">options</td><td>Offline flag </td></tr>
    <tr><td class="paramname">cacheMask</td><td>Mask of caching response options from server, a combination of ResponseCacheFlags. For example if you set OnDisk and Crypted flags, the server response will be stored to disk and encrypted by a unique generated key for the current user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer a <a class="el" href="structrmscore_1_1modernapi_1_1GetUserPolicyResult.html" title="The result of the UserPolicy::Acquire operation. ">GetUserPolicyResult</a> structure. </dd></dl>

</div>
</div>
<a class="anchor" id="ad52b39c785a318772640f287efaa1b11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html">UserPolicy</a> &gt; rmscore::modernapi::UserPolicy::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrmscore_1_1modernapi_1_1PolicyDescriptor.html">PolicyDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>policyDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrmscore_1_1modernapi_1_1IAuthenticationCallback.html">IAuthenticationCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>authenticationCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UserPolicyCreationOptions&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a custom protection policy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">policyDescriptor</td><td>A <a class="el" href="classrmscore_1_1modernapi_1_1PolicyDescriptor.html" title="Specifies users and rights assigned for a file. This is information used for custom protection...">PolicyDescriptor</a> object which defines the policy. </td></tr>
    <tr><td class="paramname">userId</td><td>The email address of the user that is protecting the content. This email address will be used to discover the RMS service instance, either ADRMS server or Azure RMS, that the user's organization is using. This parameter is also used as a hint for userId for user authentication, i.e., it will be passed to the IAuthenticationCallback.GetTokenAsync() in the <a class="el" href="classrmscore_1_1modernapi_1_1AuthenticationParameters.html" title="Coordinates for OAuth authentication with Azure AD or AD FS. ">AuthenticationParameters</a> structure. </td></tr>
    <tr><td class="paramname">authenticationCallback</td><td>Authentication callback to be used for authentication. </td></tr>
    <tr><td class="paramname">options</td><td>Options for creating protection policy object. For more information, see UserPolicyCreationOptions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a <a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html" title="Represents the policy associated with protected content. ">UserPolicy</a> object. </dd></dl>

</div>
</div>
<a class="anchor" id="a999edb1c6a2aef8506e01e0aa666828b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html">UserPolicy</a> &gt; rmscore::modernapi::UserPolicy::CreateFromTemplateDescriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrmscore_1_1modernapi_1_1TemplateDescriptor.html">TemplateDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>templateDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrmscore_1_1modernapi_1_1IAuthenticationCallback.html">IAuthenticationCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>authenticationCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UserPolicyCreationOptions&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AppDataHashMap &amp;&#160;</td>
          <td class="paramname"><em>signedAppData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For publishing using templates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">templateDescriptor</td><td>The template from which the policy is being created. </td></tr>
    <tr><td class="paramname">userId</td><td>The email address of the user that is protecting the content. This email address will be used to discover the RMS service instance, either ADRMS server or Azure RMS, that the user's organization is using. This parameter is also used as a hint for userId for user authentication, i.e., it will be passed to the IAuthenticationCallback.GetTokenAsync in the <a class="el" href="classrmscore_1_1modernapi_1_1AuthenticationParameters.html" title="Coordinates for OAuth authentication with Azure AD or AD FS. ">AuthenticationParameters</a> structure. </td></tr>
    <tr><td class="paramname">authenticationCallback</td><td>Authentication callback to be used for the authentication process. </td></tr>
    <tr><td class="paramname">options</td><td>Options for creating protection policy object. For more information, see UserPolicyCreationOptions. </td></tr>
    <tr><td class="paramname">signedAppData</td><td>Singed App data to be stored with this template. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a <a class="el" href="classrmscore_1_1modernapi_1_1UserPolicy.html" title="Represents the policy associated with protected content. ">UserPolicy</a> object. </dd></dl>

</div>
</div>
<a class="anchor" id="abd885554039cf8b869ac9f83849039f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; ProtectionPolicy &gt; rmscore::modernapi::UserPolicy::GetImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a pointer to ProtectionPolicy. BRP072215 - meaning? </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sdk/rms_sdk/ModernAPI/<a class="el" href="UserPolicy_8h_source.html">UserPolicy.h</a></li>
<li>sdk/rms_sdk/ModernAPI/UserPolicy.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 27 2015 15:06:46 for RMS SDK for C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
